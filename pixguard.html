<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Metadados da página -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PixGuard - Bradesco</title>
    
    <!-- Importação do Bootstrap para estilização -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Importação de ícones -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <!-- Importação de fontes -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Estilos personalizados -->
    <style>
        :root {
          /* Cores principais do Bradesco */
          --bradesco-red: #cc092f;
          --bradesco-dark-red: #a00724;
          --bradesco-blue: #0033a0;
          --bradesco-dark-blue: #002277;
          
          /* Cores de apoio */
          --light-gray: #f8f9fa;
          --medium-gray: #e9ecef;
          --dark-gray: #343a40;
          
          /* Cores de status */
          --success-color: #28a745;
          --warning-color: #ffc107;
          --danger-color: #dc3545;
        }

        /* Estilos gerais */
        body {
          font-family: 'Nunito', 'Segoe UI', sans-serif;
          color: #333;
          background-color: #f5f5f5;
        }

        /* Personalização do header */
        header {
          background: linear-gradient(135deg, var(--bradesco-blue) 0%, var(--bradesco-dark-blue) 100%);
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        header h1 {
          font-weight: 700;
          letter-spacing: -0.5px;
        }

        /* Cards e elementos de UI */
        .card {
          border-radius: 10px;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
          transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
          transform: translateY(-5px);
          box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .card-header {
          border-top-left-radius: 10px !important;
          border-top-right-radius: 10px !important;
        }

        /* Botões personalizados */
        .btn-primary {
          background-color: var(--bradesco-blue);
          border-color: var(--bradesco-blue);
        }

        .btn-primary:hover, .btn-primary:focus {
          background-color: var(--bradesco-dark-blue);
          border-color: var(--bradesco-dark-blue);
        }

        .btn-danger {
          background-color: var(--bradesco-red);
          border-color: var(--bradesco-red);
        }

        .btn-danger:hover, .btn-danger:focus {
          background-color: var(--bradesco-dark-red);
          border-color: var(--bradesco-dark-red);
        }

        /* Animações e efeitos */
        .fade-in {
          animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }

        /* Personalização do formulário */
        .form-control:focus {
          border-color: var(--bradesco-blue);
          box-shadow: 0 0 0 0.2rem rgba(0, 51, 160, 0.25);
        }

        /* Indicadores de risco */
        .risk-indicator {
          height: 10px;
          border-radius: 5px;
          margin: 10px 0;
        }

        .risk-low {
          background: linear-gradient(90deg, var(--success-color) 0%, var(--medium-gray) 30%);
        }

        .risk-medium {
          background: linear-gradient(90deg, var(--warning-color) 0%, var(--medium-gray) 60%);
        }

        .risk-high {
          background: linear-gradient(90deg, var(--danger-color) 0%, var(--medium-gray) 90%);
        }

        /* Responsividade */
        @media (max-width: 768px) {
          .card {
            margin-bottom: 20px;
          }
          
          header h1 {
            font-size: 1.5rem;
          }
          
          .display-6 {
            font-size: 1.5rem;
          }
        }

        /* Animação de carregamento */
        .loading-spinner {
          width: 40px;
          height: 40px;
          margin: 20px auto;
          border: 4px solid rgba(0, 51, 160, 0.2);
          border-top: 4px solid var(--bradesco-blue);
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        /* Efeitos de hover nos cards de estatísticas */
        .stat-card:hover {
          background-color: var(--light-gray);
        }

        .stat-card i {
          transition: transform 0.3s ease;
        }

        .stat-card:hover i {
          transform: scale(1.2);
        }

        /* Footer personalizado */
        footer {
          background: linear-gradient(135deg, var(--dark-gray) 0%, #000 100%);
        }
    </style>
</head>
<body>
    <!-- Cabeçalho da página -->
    <header class="bg-primary text-white py-4">
        <div class="container">
            <div class="row align-items-center">
                <!-- Logo e título -->
                <div class="col-md-6 d-flex align-items-center">
                    <img src="faculdade_logo.png" alt="Faculdade" height="50" class="me-3">
                    <div>
                        <h1 class="mb-0">
                            <i class="bi bi-shield-check me-2"></i>PixGuard
                        </h1>
                        <p class="lead mb-0">Sistema de Detecção de Golpes em Transações Pix</p>
                    </div>
                </div>
                <!-- Logotipo Bradesco -->
                <div class="col-md-6 text-md-end">
                    <img src="bradesco_logo.png" alt="Bradesco" height="50">
                </div>
            </div>
        </div>
    </header>

    <!-- Conteúdo principal -->
    <main class="container my-5">
        <div class="row">
            <!-- Coluna de informações -->
            <div class="col-lg-4 mb-4">
                <div class="card border-primary h-100">
                    <div class="card-header bg-primary text-white">
                        <h2 class="h5 mb-0"><i class="bi bi-info-circle me-2"></i>Sobre o PixGuard</h2>
                    </div>
                    <div class="card-body">
                        <p>O <strong>PixGuard</strong> é um sistema avançado de detecção de golpes em transações Pix, desenvolvido com tecnologia de Inteligência Artificial.</p>
                        
                        <div class="text-center my-4">
                            <img src="bradesco_logo.png" alt="Bradesco" height="60" class="mx-2">
                            <img src="faculdade_logo.png" alt="Faculdade" height="60" class="mx-2">
                        </div>
                        
                        <h3 class="h6 mt-4">Como funciona:</h3>
                        <ol>
                            <li>Insira os dados da transação no formulário</li>
                            <li>Nosso modelo de IA analisa os padrões</li>
                            <li>Receba uma avaliação de risco em segundos</li>
                        </ol>
                        
                        <div class="alert alert-info mt-3">
                            <i class="bi bi-lightbulb me-2"></i>
                            <strong>Dica:</strong> Quanto mais informações você fornecer, mais precisa será a análise.
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Coluna do formulário -->
            <div class="col-lg-8">
                <div class="card border-primary">
                    <div class="card-header bg-primary text-white">
                        <h2 class="h5 mb-0"><i class="bi bi-search me-2"></i>Analisar Transação</h2>
                    </div>
                    <div class="card-body">
                        <!-- Formulário de análise -->
                        <form id="transacaoForm">
                            <div class="row">
                                <!-- Campo: Valor -->
                                <div class="col-md-6 mb-3">
                                    <label for="valor" class="form-label">Valor da Transação (R$):</label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="bi bi-currency-dollar"></i></span>
                                        <input type="number" class="form-control" id="valor" name="valor" min="0" step="0.01" required>
                                    </div>
                                    <div class="form-text">Informe o valor em reais (ex: 1500.00)</div>
                                </div>
                                
                                <!-- Campo: Chave Nova -->
                                <div class="col-md-6 mb-3">
                                    <label class="form-label d-block">A chave Pix é nova?</label>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="chave_nova" id="chaveNovaSim" value="1" required>
                                        <label class="form-check-label" for="chaveNovaSim">Sim</label>
                                    </div>
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="radio" name="chave_nova" id="chaveNovaNao" value="0">
                                        <label class="form-check-label" for="chaveNovaNao">Não</label>
                                    </div>
                                    <div class="form-text">Indique se a chave Pix foi cadastrada recentemente</div>
                                </div>
                                
                                <!-- Campo: Mensagem -->
                                <div class="col-12 mb-3">
                                    <label for="mensagem" class="form-label">Mensagem da Transação:</label>
                                    <textarea class="form-control" id="mensagem" name="mensagem" rows="2" required></textarea>
                                    <div class="form-text">Digite a mensagem exatamente como aparece na transação</div>
                                </div>
                                
                                <!-- Campos adicionais (expandidos) -->
                                <div class="col-md-4 mb-3">
                                    <label for="hora_do_dia" class="form-label">Hora do dia:</label>
                                    <input type="number" class="form-control" id="hora_do_dia" name="hora_do_dia" min="0" max="23">
                                    <div class="form-text">Hora em que a transação foi realizada (0-23)</div>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="velocidade_digitacao" class="form-label">Velocidade de digitação:</label>
                                    <input type="number" class="form-control" id="velocidade_digitacao" name="velocidade_digitacao" min="0" max="5" step="0.1">
                                    <div class="form-text">Velocidade relativa (0.5-5.0)</div>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label for="tentativas_senha" class="form-label">Tentativas de senha:</label>
                                    <input type="number" class="form-control" id="tentativas_senha" name="tentativas_senha" min="1" max="5">
                                    <div class="form-text">Número de tentativas para digitar a senha</div>
                                </div>
                                
                                <!-- Botão de envio -->
                                <div class="col-12 text-center mt-3">
                                    <button type="submit" class="btn btn-primary btn-lg px-5">
                                        <i class="bi bi-shield-check me-2"></i>Analisar Transação
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Resultado da análise (inicialmente oculto) -->
                <div id="resultado" class="card mt-4 d-none">
                    <div class="card-header">
                        <h2 class="h5 mb-0">
                            <i class="bi bi-check-circle me-2"></i>
                            Resultado da Análise
                        </h2>
                    </div>

                <div class="text-end mb-2">
                    <button onclick="removerUltimoLocal()" class="btn btn-danger btn-sm">
                        <i class="bi bi-trash me-1"></i> Remover Última Transação
                    </button>
                </div>



                    <div id="history-container" class="card mt-4">
                    <div class="card-header bg-secondary text-white">
                        <h2 class="h5 mb-0"><i class="bi bi-clock-history me-2"></i>Histórico de Análises</h2>
                    </div>
                    <div class="card-body p-0">
                        <table id="history-table" class="table table-sm mb-0">
                        <thead class="table-light">
                            <tr>
                            <th>Data / Hora</th>
                            <th>Valor (R$)</th>
                            <th>Mensagem</th>
                            <th>Resultado</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Linhas serão inseridas via JS -->
                        </tbody>
                        </table>
                    </div>
                    </div>

                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h3 class="h6">Classificação:</h3>
                                <p id="resultadoClassificacao" class="display-6 fw-bold"></p>
                                
                                <h3 class="h6 mt-3">Nível de Risco:</h3>
                                <div class="d-flex align-items-center">
                                    <span id="resultadoRisco" class="badge me-2"></span>
                                    <div class="progress flex-grow-1" style="height: 10px;">
                                        <div id="riskIndicator" class="progress-bar" 
                                             role="progressbar" 
                                             style="width: 0%;" 
                                             aria-valuenow="0" 
                                             aria-valuemin="0" 
                                             aria-valuemax="100"></div>
                                    </div>
                                    <span id="resultadoProbabilidade" class="ms-2">0%</span>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <h3 class="h6">Recomendação:</h3>
                                <ul id="resultadoRecomendacoes"></ul>
                                
                                <div id="resultadoAlerta" class="alert mt-3">
                                    <i class="bi bi-info-circle me-2"></i>
                                    <strong id="resultadoAlertaTitulo"></strong>
                                    <span id="resultadoAlertaTexto"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Seção de estatísticas -->
        <div class="row mt-5">
            <div class="col-12">
                <h2 class="h4 mb-4 border-bottom pb-2">
                    <i class="bi bi-graph-up me-2"></i>Estatísticas do Sistema
                </h2>
            </div>
            
            <!-- Cards de estatísticas -->
            <div class="col-md-3 mb-4">
                <div class="card text-center h-100 stat-card">
                    <div class="card-body">
                        <i class="bi bi-shield-check text-primary display-4"></i>
                        <h3 class="h5 mt-3">Acurácia do Modelo</h3>
                        <p class="display-6 fw-bold">95.2%</p>
                    </div>
                </div>
            </div>
            <div class="card-body">

            </div>
            <div class="col-md-3 mb-4">
                <div class="card text-center h-100 stat-card">
                    <div class="card-body">
                        <i class="bi bi-search text-primary display-4"></i>
                        <h3 class="h5 mt-3">Precisão</h3>
                        <p class="display-6 fw-bold">93.8%</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3 mb-4">
                <div class="card text-center h-100 stat-card">
                    <div class="card-body">
                        <i class="bi bi-check-circle text-primary display-4"></i>
                        <h3 class="h5 mt-3">Recall</h3>
                        <p class="display-6 fw-bold">91.5%</p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-3 mb-4">
                <div class="card text-center h-100 stat-card">
                    <div class="card-body">
                        <i class="bi bi-award text-primary display-4"></i>
                        <h3 class="h5 mt-3">F1-Score</h3>
                        <p class="display-6 fw-bold">92.6%</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Rodapé da página -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h3 class="h5">PixGuard - Bradesco</h3>
                    <p>Sistema de Detecção de Golpes em Transações Pix</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <div class="mb-2">
                        <img src="bradesco_logo.png" alt="Bradesco" height="30" class="me-2">
                        <img src="faculdade_logo.png" alt="Faculdade" height="30">
                    </div>
                    <p>Desenvolvido com <i class="bi bi-heart-fill text-danger"></i> e Inteligência Artificial</p>
                    <p class="mb-0">&copy; 2025 - Todos os direitos reservados</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        /**
         * Script principal do PixGuard
         * 
         * Este script simula o comportamento do sistema PixGuard,
         * permitindo a análise de transações sem depender de um servidor backend.
         */
         // ————————————————————————————————
        // Histórico no localStorage
        function loadHistory() {
        const raw = localStorage.getItem('pixguard_history');
        return raw ? JSON.parse(raw) : [];
        }
        function saveHistory(arr) {
        localStorage.setItem('pixguard_history', JSON.stringify(arr));
        }
        function renderHistory() {
        const history = loadHistory();
        const tbody = document.querySelector('#history-table tbody');
        tbody.innerHTML = '';
        history.forEach(entry => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
            <td>${new Date(entry.timestamp).toLocaleString()}</td>
            <td>${entry.valor.toFixed(2)}</td>
            <td>${entry.mensagem}</td>
            <td>${entry.resultado}</td>
            `;
            tbody.prepend(tr);
        });
        }
        function removerUltimoLocal() {
            if (!confirm("Tem certeza que quer excluir a última transação?")) return;
            
            // 1) Carrega o array do localStorage
            const history = loadHistory();
            
            // 2) Remove o último item
            const removed = history.pop();
            if (!removed) {
                alert("Não há transações para remover.");
                return;
            }
            
            // 3) Salva de volta e re-renderiza
            saveHistory(history);
            renderHistory();
            
            alert("Última transação removida!");
        }

        // ————————————————————————————————

        document.addEventListener('DOMContentLoaded', function() {
            // Referência ao formulário
            const form = document.getElementById('transacaoForm');
            
            // Configura o evento de submissão do formulário
            form.addEventListener('submit', function(event) {
                // Impede o envio tradicional do formulário
                event.preventDefault();
                
                // Valida o formulário
                if (!validarFormulario()) {
                    return false;
                }
                
                // Exibe indicador de carregamento
                exibirCarregamento(true);
                
                // Simula o tempo de processamento da IA
                setTimeout(function() {
                    // Coleta os dados do formulário
                    const dados = coletarDadosFormulario();
                    
                    // Analisa a transação
                    const resultado = analisarTransacao(dados);
                    
                    // Exibe o resultado
                    exibirResultado(resultado);
                    // Atualiza o histórico
                    const history     = loadHistory();
                    history.push({
                    timestamp: Date.now(),
                    valor:       dados.valor,
                    mensagem:    dados.mensagem,
                    resultado:   resultado.predicao || resultado
                    });
                    saveHistory(history);
                    renderHistory();

                    // Oculta o indicador de carregamento
                    exibirCarregamento(false);
                }, 1500); // Simula 1.5 segundos de processamento
            });
            
            /**
             * Valida os campos do formulário
             * @returns {boolean} True se o formulário for válido, False caso contrário
             */
            function validarFormulario() {
                let valido = true;
                
                // Validação do campo de valor
                const valorInput = document.getElementById('valor');
                if (!valorInput.value || parseFloat(valorInput.value) <= 0) {
                    mostrarErro(valorInput, 'O valor deve ser maior que zero');
                    valido = false;
                } else {
                    limparErro(valorInput);
                }
                
                // Validação do campo de chave nova
                const chaveNovaSim = document.getElementById('chaveNovaSim');
                const chaveNovaNao = document.getElementById('chaveNovaNao');
                if (!chaveNovaSim.checked && !chaveNovaNao.checked) {
                    mostrarErro(chaveNovaSim, 'Selecione se a chave é nova ou não');
                    valido = false;
                } else {
                    limparErro(chaveNovaSim);
                }
                
                // Validação do campo de mensagem
                const mensagemInput = document.getElementById('mensagem');
                if (!mensagemInput.value.trim()) {
                    mostrarErro(mensagemInput, 'A mensagem não pode estar vazia');
                    valido = false;
                } else {
                    limparErro(mensagemInput);
                }
                
                return valido;
            }
            
            /**
             * Exibe mensagem de erro para um campo
             * @param {HTMLElement} elemento - O elemento com erro
             * @param {string} mensagem - A mensagem de erro
             */
            function mostrarErro(elemento, mensagem) {
                // Remove qualquer erro anterior
                limparErro(elemento);
                
                // Adiciona classe de erro
                elemento.classList.add('is-invalid');
                
                // Cria elemento de feedback
                const feedback = document.createElement('div');
                feedback.className = 'invalid-feedback';
                feedback.textContent = mensagem;
                
                // Adiciona o feedback após o elemento
                elemento.parentNode.appendChild(feedback);
            }
            
            /**
             * Remove mensagens de erro de um campo
             * @param {HTMLElement} elemento - O elemento a ser limpo
             */
            function limparErro(elemento) {
                // Remove classe de erro
                elemento.classList.remove('is-invalid');
                
                // Remove elementos de feedback
                const feedbacks = elemento.parentNode.querySelectorAll('.invalid-feedback');
                feedbacks.forEach(feedback => feedback.remove());
            }
            
            /**
             * Exibe ou oculta o indicador de carregamento
             * @param {boolean} exibir - True para exibir, False para ocultar
             */
            function exibirCarregamento(exibir) {
                const botao = form.querySelector('button[type="submit"]');
                
                if (exibir) {
                    // Desabilita o botão e altera o texto
                    botao.disabled = true;
                    botao.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Analisando...';
                } else {
                    // Reabilita o botão e restaura o texto
                    botao.disabled = false;
                    botao.innerHTML = '<i class="bi bi-shield-check me-2"></i>Analisar Transação';
                }
            }
            
            /**
             * Coleta os dados do formulário
             * @returns {Object} Objeto com os dados do formulário
             */
            function coletarDadosFormulario() {
                return {
                    valor: parseFloat(document.getElementById('valor').value),
                    chave_nova: document.getElementById('chaveNovaSim').checked ? 1 : 0,
                    mensagem: document.getElementById('mensagem').value,
                    hora_do_dia: document.getElementById('hora_do_dia').value ? parseInt(document.getElementById('hora_do_dia').value) : null,
                    velocidade_digitacao: document.getElementById('velocidade_digitacao').value ? parseFloat(document.getElementById('velocidade_digitacao').value) : null,
                    tentativas_senha: document.getElementById('tentativas_senha').value ? parseInt(document.getElementById('tentativas_senha').value) : null
                };
            }
            
            /**
             * Analisa uma transação para detectar se é normal ou golpe
             * @param {Object} dados - Dados da transação
             * @returns {Object} Resultado da análise
             */
            function analisarTransacao(dados) {
                // Palavras suspeitas que indicam possível golpe
                const palavrasSuspeitas = [
                    'urgente', 'emergência', 'socorro', 'ajuda', 'hospital',
                    'acidente', 'prêmio', 'ganhou', 'multa', 'judicial',
                    'bloqueado', 'regularizar', 'dívida', 'imposto', 'taxa',
                    'devolver', 'confirmar', 'dados', 'senha', 'código'
                ];
                
                // Fatores de risco
                let fatoresRisco = 0;
                
                // Verifica valor alto
                if (dados.valor > 3000) fatoresRisco += 2;
                else if (dados.valor > 1000) fatoresRisco += 1;
                
                // Verifica chave nova
                if (dados.chave_nova) fatoresRisco += 2;
                
                // Verifica mensagem suspeita
                const mensagemLower = dados.mensagem.toLowerCase();
                for (const palavra of palavrasSuspeitas) {
                    if (mensagemLower.includes(palavra)) {
                        fatoresRisco += 1;
                    }
                }
                
                // Verifica hora do dia (madrugada é mais suspeito)
                if (dados.hora_do_dia !== null) {
                    if (dados.hora_do_dia >= 22 || dados.hora_do_dia <= 5) {
                        fatoresRisco += 1;
                    }
                }
                
                // Verifica velocidade de digitação (muito rápido pode ser automação)
                if (dados.velocidade_digitacao !== null && dados.velocidade_digitacao > 2.5) {
                    fatoresRisco += 1;
                }
                
                // Verifica tentativas de senha (muitas tentativas são suspeitas)
                if (dados.tentativas_senha !== null && dados.tentativas_senha > 2) {
                    fatoresRisco += 1;
                }
                
                // Calcula probabilidade de golpe (0 a 1)
                const maxFatores = 8; // Máximo possível de fatores
                let probabilidadeGolpe = fatoresRisco / maxFatores;
                
                // Limita entre 0.05 e 0.95 para não ter 0% ou 100%
                probabilidadeGolpe = Math.max(0.05, Math.min(0.95, probabilidadeGolpe));
                
                // Determina classificação e nível de risco
                let predicao, risco;
                
                if (probabilidadeGolpe > 0.7) {
                    predicao = 'golpe';
                    risco = 'Alto';
                } else if (probabilidadeGolpe > 0.4) {
                    predicao = probabilidadeGolpe > 0.55 ? 'golpe' : 'normal';
                    risco = 'Médio';
                } else {
                    predicao = 'normal';
                    risco = 'Baixo';
                }
                
                // Retorna o resultado
                return {
                    predicao: predicao,
                    probabilidade_golpe: probabilidadeGolpe,
                    risco: risco
                };
            }
            
            /**
             * Exibe o resultado da análise na interface
             * @param {Object} resultado - Resultado da análise
             */
            function exibirResultado(resultado) {
                // Referência ao container de resultado
                const resultadoContainer = document.getElementById('resultado');
                
                // Remove a classe d-none para exibir o resultado
                resultadoContainer.classList.remove('d-none');
                
                // Adiciona classe para animação de entrada
                resultadoContainer.classList.add('fade-in');
                
                // Atualiza o cabeçalho com base na predição
                const cardHeader = resultadoContainer.querySelector('.card-header');
                const headerIcon = cardHeader.querySelector('i');
                
                if (resultado.predicao === 'golpe') {
                    cardHeader.className = 'card-header bg-danger text-white';
                    headerIcon.className = 'bi bi-exclamation-triangle me-2';
                    cardHeader.querySelector('h2').textContent = 'Resultado da Análise: ALERTA!';
                } else {
                    cardHeader.className = 'card-header bg-success text-white';
                    headerIcon.className = 'bi bi-check-circle me-2';
                    cardHeader.querySelector('h2').textContent = 'Resultado da Análise: APROVADO';
                }
                
                // Atualiza a classificação
                const classificacao = document.getElementById('resultadoClassificacao');
                classificacao.textContent = resultado.predicao === 'golpe' ? 'POSSÍVEL GOLPE' : 'TRANSAÇÃO NORMAL';
                classificacao.className = 'display-6 fw-bold ' + (resultado.predicao === 'golpe' ? 'text-danger' : 'text-success');
                
                // Atualiza o nível de risco
                const risco = document.getElementById('resultadoRisco');
                risco.textContent = resultado.risco;
                risco.className = 'badge ' + (resultado.risco === 'Alto' ? 'bg-danger' : resultado.risco === 'Médio' ? 'bg-warning' : 'bg-success');
                
                // Atualiza a barra de progresso
                const riskIndicator = document.getElementById('riskIndicator');
                riskIndicator.style.width = (resultado.probabilidade_golpe * 100) + '%';
                riskIndicator.className = 'progress-bar ' + (resultado.risco === 'Alto' ? 'bg-danger' : resultado.risco === 'Médio' ? 'bg-warning' : 'bg-success');
                
                // Atualiza o texto da probabilidade
                document.getElementById('resultadoProbabilidade').textContent = (resultado.probabilidade_golpe * 100).toFixed(1) + '%';
                
                // Atualiza as recomendações
                const recomendacoes = document.getElementById('resultadoRecomendacoes');
                recomendacoes.innerHTML = '';
                
                if (resultado.predicao === 'golpe') {
                    recomendacoes.className = 'text-danger';
                    
                    const recomendacoesGolpe = [
                        'Não realize esta transação',
                        'Entre em contato com o suporte do Bradesco',
                        'Verifique a identidade do solicitante por outro canal'
                    ];
                    
                    recomendacoesGolpe.forEach(rec => {
                        const li = document.createElement('li');
                        li.textContent = rec;
                        recomendacoes.appendChild(li);
                    });
                } else {
                    recomendacoes.className = 'text-success';
                    
                    const recomendacoesNormal = [
                        'A transação parece segura',
                        'Confirme sempre os dados do destinatário',
                        'Mantenha seus dados de acesso seguros'
                    ];
                    
                    recomendacoesNormal.forEach(rec => {
                        const li = document.createElement('li');
                        li.textContent = rec;
                        recomendacoes.appendChild(li);
                    });
                }
                
                // Atualiza o alerta
                const alerta = document.getElementById('resultadoAlerta');
                const alertaTitulo = document.getElementById('resultadoAlertaTitulo');
                const alertaTexto = document.getElementById('resultadoAlertaTexto');
                
                if (resultado.predicao === 'golpe') {
                    alerta.className = 'alert alert-danger mt-3';
                    alertaTitulo.textContent = 'Atenção! ';
                    alertaTexto.textContent = 'Esta transação apresenta características suspeitas. Recomendamos cautela.';
                } else {
                    alerta.className = 'alert alert-success mt-3';
                    alertaTitulo.textContent = 'Informação: ';
                    alertaTexto.textContent = 'Esta transação apresenta características normais. Você pode prosseguir.';
                }
                
                // Rola a página até o resultado
                resultadoContainer.scrollIntoView({ behavior: 'smooth' });
            }
        });
        // Exibe histórico já salvo quando a página carrega
        document.addEventListener('DOMContentLoaded', () => {
        renderHistory();
        });
        
    </script>
</body>
</html>
